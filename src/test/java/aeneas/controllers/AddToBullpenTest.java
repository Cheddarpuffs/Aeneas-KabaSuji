package aeneas.controllers;

import org.junit.Test;
import static org.junit.Assert.*;

import aeneas.models.Bullpen;
import aeneas.models.Bullpen.BullpenLogic;
import aeneas.models.Piece;
import aeneas.models.Square;

public class AddToBullpenTest {

  @Test
  public void testAddPieceToNonEditorLevel(){
    Bullpen bullpen = new Bullpen(BullpenLogic.puzzleLogic());
    Piece testPiece = new Piece(new Square[] {
      new Square(0,0),
    });

    IMove move = new AddPieceMove(bullpen, testPiece);

    assertFalse(move.isValid());
    move.execute();
    assertEquals(bullpen.getPieces().size(), 0);
  }

  @Test
  public void testAaddPieceEditorLevel(){
    Bullpen bullpen = new Bullpen(BullpenLogic.editorLogic());
    Piece testPiece = new Piece(new Square[] {
      new Square(0,0),
    });

    IMove move = new AddPieceMove(bullpen, testPiece);

    assertTrue(move.isValid());
    move.execute();
    assertEquals(bullpen.getPieces().size(), 1);
  }

}
